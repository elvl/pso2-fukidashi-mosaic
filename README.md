#そもそもダウンロードのしかたがわからないんだけど？

そこの右に見えている Download ZIP ってやつな？

#はじめに
この Avisynth スクリプトは PSO2 の動画の吹き出しにモザイクをかけます。

このスクリプトの動作には、Avisynth 2.6.0 以上と masktools 2.0 が必要です。

一応メモ帳で編集できますが、コードのハイライトがないと設定だけでも見づらいので適当なエディタが無いのであれば、AvsPmod を導入すると楽かもしれません。文字コードは ANSI か SJIS にする必要があります。

##Avisynth について簡単な説明

Avisynth はフレームサーバーです。一般的な動画では、動画の再生には動画ファイルが必要です。対して、フレームサーバーは動画ファイルを生成したり保存することなくリアルタイムに動画を生成して動画プレイヤーや動画編集アプリーケーションに渡すことができます。

Avisynth では、どのように動画を生成するのかをスクリプトでテキストファイルに記述します。今読んでいるこれがそうです。スクリプトを記述したテキストファイルには avs という拡張子がついています。

Avisynth を導入すると、スクリプトを記述したファイルを動画を再生できる様々なアプリケーション、例えばメディアプレイヤーや Aviutl, VirtualDub 等に読み込ませることができるようになります。 (古い Aviutl ではそのままでは開けません。最新の Aviutl を導入して下さい)

スクリプトが動画再生アプリケーションに読み込まれた時、裏側で Avisynth が活動を始めます。スクリプトの内容に従って一コマ一コマを生成しアプリケーションに渡します。この一連の流れは、全て自動的に、透過的に行われるのでユーザーが意識する必要はありません。

ですから、スクリプトをアプリケーションに読み込ませて再生や編集をするときも、動画と同じように扱えるでしょう。

#必要なものの導入方法

##Avisynth 2.6 系のインストール

このスクリプトの動作には、Avisynth 2.6.0 以上が必要です。2.5 系と 2.6 系では大きく機能差があります。2.6 系は Alpha とされていますが非常に安定しています。

[http://sourceforge.net/projects/avisynth2/files/AviSynth_Alpha_Releases/](http://sourceforge.net/projects/avisynth2/files/AviSynth_Alpha_Releases/)

ここから 2.6 系の最新のものを DL してインストールして下さい。構成は全てデフォルトで問題ありません。有志が 64bit 版をビルドしたものを非公式で公開していますが 64bit 版での動作は確認していません。64bit OS でも 32bit 版をインストールして全く問題ありません。


##masktools 2 のインストール

masktools 2 は Avisynth のプラグインです。ダウンロードは公開元は http://manao4.free.fr/ ですがわかりにくいです。masktools-v2.0a48.zip がこれを書いている時点での最新です。

直接リンクは [http://manao4.free.fr/masktools-v2.0a48.zip](http://manao4.free.fr/masktools-v2.0a48.zip)

解凍して中にある mt_masktools-26.dll だけを取り出し、Avisynth をインストールしたフォルダの中にある plugins フォルダの直下に入れて下さい。

(mt_masktools-25.dll は 2.5 系用なので使いません / 64bit 版の Avisynth をインストールしたなら x64)

#そのたいろいろ

##実際の流れ

これを、Aviutl で読み込んでモザイク漏れを拡張編集などで消すという手順をおすすめします。なぜなら、Aviutl の拡張編集の内容は Avisynth へインポートできないからです。

(できるようになっていたらすみません)

ただ、これの処理はかなり重いので、どうにも重くて Aviutl 上で作業になんねーよという場合、AMV や UtVideo 等の可逆かそれに近いコーデックで一度中間ファイルを書きだして編集するようにすれば楽になるでしょう。

##検出の限界

* 原寸動画にしか対応していません。
* このフィルタを掛ける前に、色や明るさ、特に明るさを変更しているとうまくいきません。
* フレーム間を補完するようなフレームレートの変更を行っていると画像にブラーがかかっているため検出できません。
* 高解像度で標準より文字が大きいタイプの吹き出しにはおそらく対応していません。 (設定で対応できる可能性はあります)
* ウィンドウや他の吹き出しの下にある、うっすら見えている吹き出しは検出できません。
* そうでないものも動画の状態が悪いと検出できないことがあります。
* 万一、名前の消えていない動画を公開してしまい問題が起きたとしても一切の責任は負いません。
* 必ず最終的なチェックをするようにしてください。100% の名前消しを保証するものでも、そのように設計されているものでもありません。


##吹き出し以外を消す機能

* マスクによって、UI 部分 (チャットウィンドウと PT メンバーの名前) を消す機能
* マスクについては設定内の説明を参照
* 防衛で wave 終了後の順位を消す機能


##ライセンス

このスクリプトは Creative Commons Attribution (CC-BY) で配布されるものとします。
